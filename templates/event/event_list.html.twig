{% extends "base.html.twig" %}

{% block stylesheets %}
  <link rel="stylesheet" href="{{asset('css/style_event_list.css')}}">
{% endblock %}

{% block body %}   
  <div class="flash">
      {% include "shared/_messages_flash.html.twig" %}
  </div>

    <main>
      <section>
        <h2>{{events | length}} séances ont été proposées. Fais ton choix !</h2>

        {% for e in events %}
        <article>
          <div class="top">
            <div class="gauche">
              <h3>{{e.title}}</h3>
              <div>
                <h6 class="m-0 me-2 p-0">Date :</h6>
                <p class="m-0 p-0">{{e.meetingDatetime | date('d-m-Y, H:i:s')}}</p>
              </div>
              <div>
                <h6 class="m-0 me-2 p-0">Lieu :</h6>
                <p class="m-0 p-0">{{e.meetingPlace}}, {{e.meetingPostalCode}}, {{e.meetingCity}}</p>
              </div>
            </div>
            <div class="droite">
              <h6 class="me-1">Publié par :</h6>

              <div>
                <p class="mb-0 pseudo">{{e.user.firstName}}</p>
                <img
                  class="button avatar"
                  {% if e.user.avatar is not same as null %}
                    src="{{e.user.avatar}}"
                  {% else %}
                    src="{{asset('images/default-avatar.jpg')}}"
                  {% endif %}
                  alt="photo"
                />
              </div>
            </div>
          </div>

          <div class="bas">
            <div>
              <h6 class="m-0 me-2 p-0">Instrument :</h6>
              <p class="m-0 p-0">{{e.instrument}}</p>
            </div>
            <div>
              <h6 class="m-0 me-2 p-0">Style de musique :</h6>
              <p class="m-0 p-0">{{e.typeOfMusic}}</p>
            </div>
            <div>
              <h6 class="m-0 me-2 p-0">Infos supplémentaires :</h6>
              <p class="m-0 p-0">{{e.content}}</p>
            </div>

          </div>

          <div class="boutons">
            <a href="{{path('event_reply', {'id':e.id})}}" class="btn btn-primary">
              <i class="fas fa-check"></i> J'y vais !
            </a>
          </div>
        </article>

        {% endfor %}
      </section>
    </main>

{% endblock %}

{% block javascripts %}
  <script src="{{asset('js/script_event_list.js')}}"></script>
{% endblock %}