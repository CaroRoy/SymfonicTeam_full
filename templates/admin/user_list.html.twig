{% extends "base.html.twig" %}

{% block stylesheets %}
  <link rel="stylesheet" href="{{asset('css/style_admin_user_list.css')}}">
{% endblock %}

{% block body %}
    <div class="flash">
        {% include "shared/_messages_flash.html.twig" %}
    </div>
    
    <main>
      <section>
            <a href="{{path('admin_home')}}" class="btn btn-light button-back">
                <i class="fas fa-angle-double-left"></i> Retour
            </a>

            <h2>{{users | length}} utilisateurs :</h2>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <th>Prénom</th>
                        <th>Nom</th>
                        <th>Rôle</th>
                        <th>Détail</th>
                    </thead>
                    <tbody>
                        {% for user in users %}
                            <tr>
                                <td>{{ user.firstName }}</td>
                                <td>{{ user.lastName }}</td>
                                {% if user.roles[0] is same as "ROLE_USER" %}
                                    <td>Utilisateur</td>
                                {% else %}
                                    <td>Administrateur</td>
                                {% endif %}
                                <td>
                                    <a href="{{ path('admin_user_show',{ 'id' : user.id })}}">
                                        <i class="fas fa-info-circle"></i>
                                    </a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
      </section>
    </main>
{% endblock %}
